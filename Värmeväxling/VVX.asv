% VÃ¤rmevÃ¤xling
%% VVX 1

clc, clear

% Givna data
% Molmassor
M_A=58.12*1000;  %[kg/mol]       Molmassan för isobutan
M_B=56.11*1000;  %[kg/mol]       Molmassan för isobuten

%Kalla sidan (c)
%Temperaturer
Tcin=298;        %[K]            Produktflödets temperatur in?
Tcut=750;        %[K]            Produktflödets temperatur ut?

%Produktflöden
Fc_A=128*10^3;
Fc_B=5*10^3;
Fc_C=0;     
Fc_D=1091*10^3;  %[mol/h]        Produktflöde (c=kalla flödet)??

Fc_tot=Fc_A+Fc_B+Fc_C+Fc_D;  %[mol/h]  Totalt molflöde

%Molbråk
yc_A=Fc_A./Fc_tot;
yc_B=Fc_B./Fc_tot;
yc_C=Fc_C./Fc_tot;
yc_D=Fc_D./Fc_tot;

%Värmekapaciteter
cpc_A=cp_A(A_A,B_A,C_A,D_A,T);
cpc_B=;
cpc_C=;
cpc_D=;

cpc_tot=yc_A.*cpc_A+yc_B.*cpc_B+yc_C.*cpc_C+yc_D.*cpc_D; %[J/(molK)]  Total värmekapacitet

%Varma sidan
cph=4.18*10^3;   %[J/(kgK)]      Kondensatflödets värmekapacitet??
Thin=90;         %[C]            Kondensatflödets temperatur in?
U=1500;          %[W/(m2K)]      Värmegenomgångstal??

%Kostnader och övrigt
Ka=600;          %[SEK/(m2  r)]  Kostnad för värmeväxlaren????
beta=0.10*10^-3; %[SEK/Wh]       Kostnad för ångan??
tdrift=8760;     %[h/ r]         Driftstid på ett år???


epsilon = @(NTU)(1 - exp(-NTU.*(1 - Cmin/Cmax)))/(1 - (Cmin/Cmax).*exp(-NTU.*(1 - Cmin/Cmax)));

%Data för Cp
A_A=-1.39;
B_A=0.3847;
C_A=-1.846e-4;
D_A=2.895e-08;
T=1000;

function cp_A = cp_A(A_A,B_A,C_A,D_A,T)

cp_A=A_A+B_A.*T+C_A.*T.^2+D_A.*T.^3;

end

